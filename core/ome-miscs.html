<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Oh My Emacs Miscs</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="Oh My Emacs Miscs"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-12-30T17:03+0800"/>
<meta name="author" content=""/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Oh My Emacs Miscs</h1>

<p>This is part of the <a href="https://github.com/xiaohanyu/oh-my-emacs">oh-my-emacs</a>.
</p>
<p>
This file contains things that still don't find a good place to put, :-).
</p>

<div id="outline-container-miscs-prerequisites" class="outline-2">
<h2 id="miscs-prerequisites"><a name="sec-1" id="sec-1"></a>Prerequisites</h2>
<div class="outline-text-2" id="text-miscs-prerequisites">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption>Prerequisites for ome-miscs module</caption>
<colgroup><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left"></th><th scope="col" class="left">Windows</th><th scope="col" class="left">Ubuntu/Debian/Mint</th><th scope="col" class="left">ArchLinux</th><th scope="col" class="left">Fedora</th><th scope="col" class="left">Mac OS X</th><th scope="col" class="left">Mandatory?</th></tr>
</thead>
<tbody>
<tr><td class="left"><a href="http://w3m.sourceforge.net/">w3m</a></td><td class="left"></td><td class="left">w3m, w3m-img</td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">No</td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-miscs-el-get-packages" class="outline-2">
<h2 id="miscs-el-get-packages"><a name="sec-2" id="sec-2"></a>El-get packages</h2>
<div class="outline-text-2" id="text-miscs-el-get-packages">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption>El-get packages for ome-miscs module</caption>
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left"></th><th scope="col" class="left">Status</th><th scope="col" class="left">Description</th></tr>
</thead>
<tbody>
<tr><td class="left"><a href="https://github.com/jlr/rainbow-delimiters">rainbow-delimiters</a></td><td class="left">Required</td><td class="left">Colorful parens.</td></tr>
<tr><td class="left"><a href="http://magit.github.io/magit/">magit</a></td><td class="left">Required</td><td class="left">Git in Emacs.</td></tr>
<tr><td class="left"><a href="https://github.com/bbatsov/projectile">projectile</a></td><td class="left">Required</td><td class="left">Project managment in Emacs.</td></tr>
<tr><td class="left"><a href="https://github.com/Fuco1/smartparens">smartparens</a></td><td class="left">Required</td><td class="left">The ulitimate paren management solution for Emacs.</td></tr>
<tr><td class="left"><a href="http://emacs-w3m.namazu.org/">emacs-w3m</a></td><td class="left">Recommended</td><td class="left">Browsing HTML docs in Emacs.</td></tr>
<tr><td class="left"><a href="https://github.com/syohex/emacs-quickrun">quickrun</a></td><td class="left">Recommended</td><td class="left">Just as its name said.</td></tr>
<tr><td class="left"><a href="http://www.eskimo.com/~seldon/diminish.el">diminish</a></td><td class="left">Recommended</td><td class="left">Clean up mode line space.</td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Enable some dangerous commands</h2>
<div class="outline-text-2" id="text-3">


<p>
Emacs may be slow when you editing large files with many minor modes
on. <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Narrowing.html">Narrowing</a> allows you focus in on some portion of the buffer, making the
rest temporarily inaccessible. Widening is the reverse of narrowing, which
cancels the narrowing, and makes the entire buffer once again accessible.
</p>
<p>
By default, the narrowing commands are considered to be dangerous, we just
remove the dangerous tag here.
</p>



<pre class="example">(put 'narrow-to-page 'disabled nil)
(put 'narrow-to-region 'disabled nil)
(put 'upcase-region 'disabled nil)
</pre>

</div>

</div>

<div id="outline-container-emacs-server" class="outline-2">
<h2 id="emacs-server"><a name="sec-4" id="sec-4"></a>Toggle server mode .</h2>
<div class="outline-text-2" id="text-emacs-server">


<p>
You can <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html">use emacs as a server</a>, which "listens" for external edit requests and
acts accordingly. Thus you can <code>alias vim=emacsclient</code> as the lucky
stuff, :-).
</p>
<p>
There're two ways to turn on <code>server-mode</code> on emacs start:
</p><ul>
<li><code>(server-mode t)</code>
</li>
<li><code>(server-start)</code>
</li>
</ul>


<p>
In either way you can use <code>emacsclient</code> to connect an existing emacs server,
and finish editing by typing <code>C-x #(server-edit)</code>, which will "kill" the
<code>emacscient</code>. You can also quit <code>emacsclient</code> by <code>C-x C-c</code>, but this will kill
emacs if you use <code>(server-start)</code> while keeps emacs alive if you use
<code>(server-mode t)</code>, I don't know why. If you know the details, please tell me.
</p>



<pre class="example">(server-mode t)
</pre>


</div>

</div>

<div id="outline-container-random-number" class="outline-2">
<h2 id="random-number"><a name="sec-5" id="sec-5"></a>Random Number</h2>
<div class="outline-text-2" id="text-random-number">





<pre class="example">;; Seed the random-number generator
(random t)
</pre>


</div>

</div>

<div id="outline-container-rainbow-delimiters" class="outline-2">
<h2 id="rainbow-delimiters"><a name="sec-6" id="sec-6"></a>Rainbow Delimiters</h2>
<div class="outline-text-2" id="text-rainbow-delimiters">


<p>
"RainbowDelimiters is a "rainbow parentheses"-like mode which highlights
parentheses, brackets, and braces according to their depth. Each successive
level is highlighted in a different color. This makes it easy to spot matching
delimiters, orient yourself in the code, and tell which statements are at a
given depth."
</p>



<pre class="example">(defun ome-rainbow-delimiters-setup ()
  (global-rainbow-delimiters-mode))

(ome-install 'rainbow-delimiters)
</pre>


</div>

</div>

<div id="outline-container-auto-compression-mode" class="outline-2">
<h2 id="auto-compression-mode"><a name="sec-7" id="sec-7"></a>Transparently Open Compressed Files</h2>
<div class="outline-text-2" id="text-auto-compression-mode">


<p>
"Auto Compression mode is a global minor mode.  When enabled, compressed files
are automatically uncompressed for reading, and compressed when writing."
</p>



<pre class="example">(auto-compression-mode t)
</pre>


</div>

</div>

<div id="outline-container-auto-image-file-mode" class="outline-2">
<h2 id="auto-image-file-mode"><a name="sec-8" id="sec-8"></a>Allowing Opening Images</h2>
<div class="outline-text-2" id="text-auto-image-file-mode">


<p>
"Toggle visiting of image files as images (Auto Image File mode)."
</p>



<pre class="example">(auto-image-file-mode t)
</pre>

</div>

</div>

<div id="outline-container-outline" class="outline-2">
<h2 id="outline"><a name="sec-9" id="sec-9"></a>Outline mode</h2>
<div class="outline-text-2" id="text-outline">


<p>
Outline mode is the root of org-mode, while <code>outline-minor-mode</code> is still
useful with other major modes when browsing large files. You can get the
overall structure with <code>outline-minor-mode</code>, so oh-my-emacs enabled
<code>outline-minor-mode</code> for all programming modes by adding <code>outline-minor-mode</code>
to <code>prog-mode-hook</code>.
</p>
<p>
By default, outline minor mode provides special key bindings on the <code>C-c @</code>
prefix, which, IMHO, is a little cumbersome to type. You can rebind to other
keys if you like.
</p>
<p>
You can get detailed information about <code>outline-mode</code> by typing <code>C-h F outline-mode</code>, and <code>C-h b</code> will bring you a full list of keybindings, including
keybindings for <code>outline-minor-mode</code>.
</p>



<pre class="example">(add-hook 'prog-mode-hook
          (lambda ()
            (outline-minor-mode t)))

;; (add-hook 'outline-minor-mode-hook
;;           (lambda ()
;;             (local-set-key (kbd "C-c C-o")
;;                            outline-mode-prefix-map)))

</pre>


</div>

</div>

<div id="outline-container-po-mode" class="outline-2">
<h2 id="po-mode"><a name="sec-10" id="sec-10"></a>Po-mode</h2>
<div class="outline-text-2" id="text-po-mode">


<p>
Emacs always bring you some surprises for you daily job. Some day I wanted to
do some i18n/l10n work for a python project, and I found <a href="http://www.gnu.org/software/gettext/manual/html_node/PO-Mode.html">PO-Mode</a>, which is
really awesome. I even wanted to write a tiny tutorial for this great mode, but
I just gave up. Since for any questions in <code>po-mode</code>, you can just type <code>?</code> or
<code>h</code>, and you will get a brief and concise answer.
</p>



<pre class="example">(defun ome-po-mode-setup ()
  (add-hook 'po-mode-hook
            (lambda ()
              (linum-mode 1)))
  ;; disable evil-mode since some key binding conflicts
  (when (featurep 'evil)
    (add-hook 'po-mode-hook 'turn-off-evil-mode)))

(ome-install 'po-mode)
</pre>


</div>

</div>

<div id="outline-container-magit" class="outline-2">
<h2 id="magit"><a name="sec-11" id="sec-11"></a>Magit</h2>
<div class="outline-text-2" id="text-magit">


<p>
<a href="http://www.git-scm.com/">Git</a> might be the most popular version control system in the world by far, every
programmer should try it, learn it, and finally master it. In fact, mastering
git will boost your workflow and efficiency to a new level. Besides version
control, git can also do other useful things such as file and storage
sync. <a href="http://en.wikipedia.org/wiki/Linus_Torvalds">Linus Torvalds</a>, father of git, describes git as <a href="http://linux.die.net/man/1/git">a stupid content tracker</a>:
</p>
<blockquote>

<p>In many ways you can just see git as a filesystem - it's content-
addressable, and it has a notion of versioning, but I really really
designed it coming at the problem from the viewpoint of a <span style="text-decoration:underline;">filesystem</span>
person (hey, kernels is what I do), and I actually have absolutely <span style="text-decoration:underline;">zero</span>
interest in creating a traditional SCM system.
</p>
<p>
&ndash; Linus Torvalds, <a href="http://marc.info/?l=linux-kernel&amp;m=111314792424707">http://marc.info/?l=linux-kernel&amp;m=111314792424707</a>
</p>
</blockquote>


<p>
Actually, "git is fundamentally a content-addressable filesystem with a
VCS user interface written on top of it<sup><a class="footref" name="fnr-.1" href="#fn-.1">1</a></sup>".
</p>
<p>
<a href="http://magit.github.io/magit/">Magit</a> integrate emacs with git, which will make your workflow smoother and more
enjoyable. Of course there're other choices, but I prefer magit, view <a href="http://alexott.net/en/writings/emacs-vcs/EmacsGit.html">Alexott's Blog</a> for technical details.
</p>



<pre class="example">(if (executable-find "git")
    (ome-install 'magit))
</pre>


</div>

</div>

<div id="outline-container-visual-line-mode" class="outline-2">
<h2 id="visual-line-mode"><a name="sec-12" id="sec-12"></a>Visual-line-mode</h2>
<div class="outline-text-2" id="text-visual-line-mode">


<p>
<a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Visual-Line-Mode.html">Visual line mode</a> is a new mode in Emacs 23. It provides support for editing by
visual lines. It turns on word-wrapping in the current buffer, and rebinds C-a,
C-e, and C-k to commands that operate by visual lines instead of logical lines.
</p>
<p>
<a href="ome-basic.html">As you know</a>, we have <code>turn-on-auto-fill</code> for <code>text-mode</code> and <code>prog-mode</code> and
all derived modes, which may make it useless to turn on <code>visual-line-mode</code> most
of the time. But we still turn on it globally to make it a fallback when
<code>auto-fill-mode</code> was disabled by users.
</p>



<pre class="example">(global-visual-line-mode t)
</pre>


</div>

</div>

<div id="outline-container-projectile" class="outline-2">
<h2 id="projectile"><a name="sec-13" id="sec-13"></a>Projectile</h2>
<div class="outline-text-2" id="text-projectile">


<p>
Emacs is good at file/buffer management, but lacks support for project level
management. Fortunately, <a href="https://github.com/bbatsov/projectile">projectile</a>, a project created by <a href="http://batsov.com/">Bozhidar Batsov</a>, also
the author of <a href="https://github.com/bbatsov/prelude">emacs prelude</a>, solved this problem in a lightweight, elegant,
flexible and portable way.
</p>
<p>
The concept of a project in projectile is pretty easy and basic &ndash; just s
folder containing special file. "Currently <code>git</code>, <code>mercurial</code>, <code>darcs</code> and
<code>bazaar</code> repos are considered projects by default. So are <code>lein</code>, <code>maven</code>,
<code>sbt</code>, <code>rebar</code> and <code>bundler</code> projects. If you want to mark a folder manually as
a project just create an empty .projectile file in it."
</p>
<p>
Projectile is flexible, you can use different completion backends, such as the
emacs builtin <code>ido</code> with <a href="https://github.com/lewang/flx">flx-ido</a>, <a href="https://github.com/d11wtq/grizzl">grizzl</a>, or just regular completion, it also
offers <code>helm</code> integration, which is great in oh-my-emacs since oh-my-emacs
enables <code>helm</code> by default. But there's still room for improvement, I think, if
one project contains multiple files with the same name, you can't
differentiate them in helm's "projectile files list", so maybe add the
fullpath aside to filename is a good idea.
</p>
<p>
With projectile, you can find/grep/list files <b>within a project</b>, switch/view
a list of known project you have viewed recently, kills all project buffers
with a single shortcut, etc. Sounds great, ha? So, don't hesitate any more,
just enjoy it!
</p>



<pre class="example">(defun ome-projectile-setup ()
  (projectile-global-mode)
  (setq projectile-enable-caching t)
  (global-set-key (kbd "C-x c h") 'helm-projectile))

(ome-install 'projectile)
</pre>


</div>

</div>

<div id="outline-container-smartparens" class="outline-2">
<h2 id="smartparens"><a name="sec-14" id="sec-14"></a>Smartparens</h2>
<div class="outline-text-2" id="text-smartparens">


<blockquote>

<p>Smartparens is modern minor mode for Emacs that <i>deals with parens pairs and tries to be smart about it</i>. It is a unification and enhancement effort to
combine functionality of several existing packages in a single, common and
straightforward way (and most of all compatible). These packages include
<a href="https://github.com/capitaomorte/autopair">autopair</a>, <a href="http://code.google.com/p/emacs-textmate/">textmate</a>, <a href="https://github.com/rejeep/wrap-region">wrap-region</a>, <a href="http://emacswiki.org/emacs/ParEdit">paredit</a> and others with similar
philosophies. It also adds support for many more features. <a href="https://github.com/Fuco1/smartparens/wiki#wiki-what-is-this-package-about?">Here's</a> a highlight
of some features, for a complete list and detailed documentation look in the
<a href="https://github.com/Fuco1/smartparens/wiki#wiki-information-for-new-users">manual</a>.
</p>
<p>
For the complete picture of what is it about, visit the <a href="https://github.com/Fuco1/smartparens/wiki">documentation wiki</a>.
</p>
</blockquote>


<p>
Believe me, <a href="https://github.com/Fuco1/smartparens">smartparens</a> is the future, it is the ultimate solution for paren
pairs management in Emacs world. It is flexible, uniform and highly
customizable. It is also bundled with a comprehensive documentation, besides
the aforementioned wiki, you can also <code>M-x sp-cheat-sheet</code> to get live
examples, which, I think, is really a innovative feature.
</p>
<p>
Smartparens didn't provide keybindings for most of its commands by default, so
you must define proper <code>sp-keymap</code> by yourself, however, smartparens does
provide <code>sp-use-paredit-bindings</code> and <code>sp-use-smartparens-bindings</code> as a good
starting point. Oh-my-emacs adopt its own keybindings for smartparens, which
defines <code>M-s</code> as the prefix key. The default keybindings provided by
smartparens has some conflicts with <code>evil</code>'s <code>ESC</code> key. If you have any other
good suggestions, please tell me, thanks!
</p>
<p>
I spent about one week's spare time just learning this amazing
package. Smartparens is not as strict as paredit, for some people that kind of
strictness seems annoying and weird at first. Paredit is <a href="http://emacsrocks.com/e14.html">powerful</a>, so
smartparens import many features from paredit and provides a compatible, and
more powerful, flexible version. For any serious Lispers, I recommend you spend
some time to master these wonderful commands, which will make your life easier.
</p>



<pre class="example">(defun ome-create-newline-and-enter-sexp (&amp;rest _ignored)
    "Open a new brace or bracket expression, with relevant newlines and indent. "
    (previous-line)
    (indent-according-to-mode)
    (forward-line)
    (newline)
    (indent-according-to-mode)
    (forward-line -1)
    (indent-according-to-mode))

(defun ome-smartparens-setup ()
  ;; global
  (require 'smartparens-config)
  (setq sp-autoskip-closing-pair 'always)
  (setq sp-navigate-close-if-unbalanced t)
  (smartparens-global-mode t)

  ;; highlights matching pairs
  (show-smartparens-global-mode t)

  ;; keybinding management
  (define-key sp-keymap (kbd "M-s f") 'sp-forward-sexp)
  (define-key sp-keymap (kbd "M-s b") 'sp-backward-sexp)

  (define-key sp-keymap (kbd "M-s d") 'sp-down-sexp)
  (define-key sp-keymap (kbd "M-s D") 'sp-backward-down-sexp)
  (define-key sp-keymap (kbd "M-s a") 'sp-beginning-of-sexp)
  (define-key sp-keymap (kbd "M-s e") 'sp-end-of-sexp)

  (define-key sp-keymap (kbd "M-s u") 'sp-up-sexp)
  ;; (define-key emacs-lisp-mode-map (kbd ")") 'sp-up-sexp)
  (define-key sp-keymap (kbd "M-s U") 'sp-backward-up-sexp)
  (define-key sp-keymap (kbd "M-s t") 'sp-transpose-sexp)

  (define-key sp-keymap (kbd "M-s n") 'sp-next-sexp)
  (define-key sp-keymap (kbd "M-s p") 'sp-previous-sexp)

  (define-key sp-keymap (kbd "M-s k") 'sp-kill-sexp)
  (define-key sp-keymap (kbd "M-s w") 'sp-copy-sexp)

  (define-key sp-keymap (kbd "M-s s") 'sp-forward-slurp-sexp)
  (define-key sp-keymap (kbd "M-s r") 'sp-forward-barf-sexp)
  (define-key sp-keymap (kbd "M-s S") 'sp-backward-slurp-sexp)
  (define-key sp-keymap (kbd "M-s R") 'sp-backward-barf-sexp)
  (define-key sp-keymap (kbd "M-s F") 'sp-forward-symbol)
  (define-key sp-keymap (kbd "M-s B") 'sp-backward-symbol)

  (define-key sp-keymap (kbd "M-s [") 'sp-select-previous-thing)
  (define-key sp-keymap (kbd "M-s ]") 'sp-select-next-thing)

  (define-key sp-keymap (kbd "M-s M-i") 'sp-splice-sexp)
  (define-key sp-keymap (kbd "M-s &lt;delete&gt;") 'sp-splice-sexp-killing-forward)
  (define-key sp-keymap (kbd "M-s &lt;backspace&gt;") 'sp-splice-sexp-killing-backward)
  (define-key sp-keymap (kbd "M-s M-&lt;backspace&gt;") 'sp-splice-sexp-killing-around)

  (define-key sp-keymap (kbd "M-s M-d") 'sp-unwrap-sexp)
  (define-key sp-keymap (kbd "M-s M-b") 'sp-backward-unwrap-sexp)

  (define-key sp-keymap (kbd "M-s M-t") 'sp-prefix-tag-object)
  (define-key sp-keymap (kbd "M-s M-p") 'sp-prefix-pair-object)
  (define-key sp-keymap (kbd "M-s M-c") 'sp-convolute-sexp)
  (define-key sp-keymap (kbd "M-s M-a") 'sp-absorb-sexp)
  (define-key sp-keymap (kbd "M-s M-e") 'sp-emit-sexp)
  (define-key sp-keymap (kbd "M-s M-p") 'sp-add-to-previous-sexp)
  (define-key sp-keymap (kbd "M-s M-n") 'sp-add-to-next-sexp)
  (define-key sp-keymap (kbd "M-s M-j") 'sp-join-sexp)
  (define-key sp-keymap (kbd "M-s M-s") 'sp-split-sexp)
  (define-key sp-keymap (kbd "M-s M-r") 'sp-raise-sexp)

  ;; pair management
  (sp-local-pair 'minibuffer-inactive-mode "'" nil :actions nil)

  ;; markdown-mode
  (sp-with-modes '(markdown-mode gfm-mode rst-mode)
    (sp-local-pair "*" "*" :bind "C-*")
    (sp-local-tag "2" "**" "**")
    (sp-local-tag "s" "```scheme" "```")
    (sp-local-tag "&lt;"  "&lt;_&gt;" "&lt;/_&gt;" :transform 'sp-match-sgml-tags))

  ;; tex-mode latex-mode
  (sp-with-modes '(tex-mode plain-tex-mode latex-mode)
    (sp-local-tag "i" "\"&lt;" "\"&gt;"))

  ;; html-mode
  (sp-with-modes '(html-mode sgml-mode)
    (sp-local-pair "&lt;" "&gt;"))

  ;; lisp modes
  (sp-with-modes sp--lisp-modes
    (sp-local-pair "(" nil :bind "C-("))

  (dolist (mode '(c-mode c++-mode java-mode js2-mode sh-mode))
    (sp-local-pair mode
                   "{"
                   nil
                   :post-handlers
                   '((ome-create-newline-and-enter-sexp "RET")))))

(ome-install 'smartparens)

</pre>


</div>

</div>

<div id="outline-container-emacs-w3m" class="outline-2">
<h2 id="emacs-w3m"><a name="sec-15" id="sec-15"></a>Emacs-w3m</h2>
<div class="outline-text-2" id="text-emacs-w3m">


<p>
<a href="http://w3m.sourceforge.net/index.en.html">w3m</a> is a text-based web browser as well as a pager like <code>more</code> or <code>less</code>, while
<a href="http://emacs-w3m.namazu.org/">emacs-w3m</a> is a simple Emacs interface to w3m, thus, to use emacs-w3m, you need
<code>w3m</code> installed, there're other optional <a href="http://emacs-w3m.namazu.org/info/emacs-w3m_5.html#SEC5">requirements</a>, which provides a better
surfing experience, but these are not mandatory, so try it if you like for
free.
</p>
<p>
In fact, I'm not that kind of person who does almost everything in Emacs, or
lives in Emacs. I don't want to use emacs-w3m to do things like watching
youtube videos, searching google map, etc. So, why emacs-w3m came here?
</p>
<p>
I want emacs-w3m when I try to configure <a href="http://common-lisp.net/project/slime/">slime</a> with <a href="http://www.lispworks.com/documentation/common-lisp.html">hyperspec</a>. Slime provides
an great <code>slime-documentation-lookup</code> function, which indeed is a wrapper of
<code>slime-hyperspec-lookup</code>, through which you can browser the whole hyperspec
documentation at your fingertips. Under the hood, <code>slime-hyperspec-lookup</code> will
call <code>browse-url</code>, which in turn ask a WWW browser to show the
documentation. Variable <code>browse-url-browser-function</code> says which browser to
use. Here, I set it to <code>w3m-browse-url</code>.
</p>
<p>
Now follows my secret weapon. I use <code>sp-copy-sexp</code> from <code>smartparens-mode</code> to
copy some lisp snippets, and then paste the code snippets back to an lisp
buffer and sent the snippet to slime to get a quick feedback. Ha, what a
perfect workflow!  Now you should know why I need <code>emacs-w3m</code>.
</p>
<p>
Some commonly used keybindings for <code>w3m-mode</code>:
</p><ul>
<li><code>R</code> Reload the current page.
</li>
<li><code>r</code> Redisplay the current page.
</li>
<li><code>[</code> Move the point to the previous form.
</li>
<li><code>]</code> Move the point to the next form.
</li>
<li><code>{</code> Move the point to the previous image.
</li>
<li><code>}</code> Move the point to the next image.
</li>
<li><code>B</code> Move back to the previous page in the history.
</li>
<li><code>N</code> Move forward to the next page in the history.
</li>
<li><code>^</code> Attempt to move to the parent directory of the page.
</li>
<li><code>U</code> Visit the web page.
</li>
<li><code>G</code> Visit the web page in a new session.
</li>
<li><code>H</code> Go to the Home page.
</li>
<li><code>M</code> Display the current page using the external browser.
</li>
<li><code>C-c M-l</code> Delete tabs on the left side of the current tab.
</li>
<li><code>C-c M-r</code> Delete tabs on the right side of the current tab.
</li>
<li><code>M-d</code> Download the URL.
</li>
<li><code>d</code> Download the URL under point.
</li>
<li><code>I</code> Display the image under point in the external viewer.
</li>
<li><code>M-i</code> Save the image under point to a file.
</li>
<li><code>t</code> Toggle the visibility of an image under point.
</li>
<li><code>T</code> Toggle the visibility of all images.
</li>
<li><code>M-T</code> Turn off to display all images.
</li>
<li><code>M-[</code> Zoom in an image on the point.
</li>
<li><code>M-]</code> Zoom out an image on the point.
</li>
<li><code>u</code> Display the url under point and put it into `kill-ring'.
</li>
<li><code>c</code> Display the url of the current page and put it into `kill-ring'.
</li>
<li><code>\</code> Display the html source of the current page.
</li>
<li>=== Display the header of the current page.
</li>
<li><code>E</code> Edit the local file displayed as the current page.
</li>
<li><code>e</code> Edit the local file which is pointed to by URL under point.
</li>
<li><code>M-k</code> Display cookies and enable you to manage them.
</li>
<li><code>b</code> Scroll down the current window, or go to the previous page.
</li>
<li><code>J</code> Scroll the current window up one line (or lines of which the number you
  specify by the prefix argument).
</li>
<li><code>j</code> Next line.
</li>
<li><code>k</code> Previous line.
</li>
<li><code>l</code> Forward char.
</li>
<li><code>h</code> Backward char.
</li>
<li><code>s</code> Display the history of pages you have visited in the session. If it is
  called with the prefix arg, it displays the arrived URLs.
</li>
<li><code>S</code> Query to the search engine a word. To change the server, give any prefix
  argument to the command.
</li>
<li><code>C-t t</code> Create an empty page as a new session and visit it.
</li>
<li><code>C-c C-t</code> Create a copy of the current page as a new session.
</li>
<li><code>C-c C-n</code> Turn the page of emacs-w3m buffers ahead.
</li>
<li><code>C-c C-p</code> Turn the page of emacs-w3m buffers behind.
</li>
<li><code>C-c RET</code> Move to the next unseen buffer.
</li>
<li><code>C-c C-s</code> Pop to the emacs-w3m buffers selection window up.
</li>
<li><code>C-c C-a</code> Select one of emacs-w3m buffers at the current window.
</li>
<li><code>C-c C-w</code> Delete the current emacs-w3m buffer.
</li>
<li><code>C-c M-w</code> Delete emacs-w3m buffers except for the current buffer.
</li>
<li><code>M-x w3m</code> Start browsing web with emacs-w3m.
</li>
<li><code>q</code> Close all emacs-w3m windows, without deleteing buffers.
</li>
<li><code>Q</code> Exit browsing web.  All emacs-w3m buffers will be deleted.
</li>
<li><code>C-c C-k</code> Try to stop internal processes of a page.
</li>
</ul>





<pre class="example">(defun ome-emacs-w3m-setup ()
  ;; (setq w3m-default-display-inline-images t)
  (setq w3m-home-page "http://www.google.com/ncr")
  (setq browse-url-browser-function 'w3m-browse-url)
  (global-set-key (kbd "C-x w") 'browse-url-at-point))

(when (executable-find "w3m")
  (ome-install 'emacs-w3m))
</pre>


</div>

</div>

<div id="outline-container-quickrun" class="outline-2">
<h2 id="quickrun"><a name="sec-16" id="sec-16"></a>Quickrun</h2>
<div class="outline-text-2" id="text-quickrun">


<p>
Just as its name, quickrun let you run your program in a really quick
way. Just run it, without thinking about too much other chores.
</p>



<pre class="example">(ome-install 'quickrun)
</pre>


</div>

</div>

<div id="outline-container-diminish" class="outline-2">
<h2 id="diminish"><a name="sec-17" id="sec-17"></a>Diminish</h2>
<div class="outline-text-2" id="text-diminish">


<blockquote>

<p>"When we diminish a mode, we are saying we want it to continue doing its work
for us, but we no longer want to be reminded of it. It becomes a night worker,
like a janitor; it becomes an invisible man; it remains a component, perhaps an
important one, sometimes an indispensable one, of the mechanism that maintains
the day-people's world, but its place in their thoughts is diminished, usually
to nothing. As we grow old we diminish more and more such thoughts, such
people, usually to nothing."
</p>
<p>
&ndash; Will Mengarini in diminish.el
</p>
</blockquote>


<p>
As oh-my-emacs becomes more and more powerful, the mode line becomes more and
more congested. <a href="http://www.eskimo.com/~seldon/diminish.el">diminish.el</a> provide us a way to clean up the mode line. BTW, I
really like its documentation, just check out the source code and you'll get
everything you need to know about this tiny but powerful mode. See <a href="http://whattheemacsd.com/init.el-04.html">here</a> and
<a href="http://emacs-fu.blogspot.com/2010/05/cleaning-up-mode-line.html">here</a> for some more details.
</p>
<p>
You can check the variable <code>minor-mode-alist</code> and diminish minor modes as you
like.
</p>



<pre class="example">(defun ome-diminish-setup ()
  ;; diminish some builtin mode
  (eval-after-load "abbrev"
    '(diminish 'abbrev-mode))

  (eval-after-load 'simple
    '(progn
       ;; diminish auto-fill-mode
       (diminish 'auto-fill-function)
       (diminish 'global-visual-line-mode)
       (diminish 'visual-line-mode)))

  (eval-after-load "outline"
    '(diminish 'outline-minor-mode))

  (eval-after-load "eldoc"
    '(diminish 'eldoc-mode))

  ;; diminish third-party mode
  (eval-after-load "elisp-slime-nav"
    '(diminish 'elisp-slime-nav-mode))

  (eval-after-load "helm"
    '(diminish 'helm-mode))

  (eval-after-load "projectile"
    '(diminish 'projectile-mode "Prjl"))

  (eval-after-load "undo-tree"
    '(diminish 'undo-tree-mode)))

(ome-install 'diminish)
</pre>


</div>

</div>

<div id="outline-container-18" class="outline-2">
<h2 id="sec-18">Todo</h2>
<div class="outline-text-2" id="text-18">

<ul>
<li>Enable flyspell and ispell in text-mode.
</li>
<li>Add a dictionary support, such as <code>sdcv</code>? Or a better translator support such
  as <code>babel</code> or <code>gtranslate</code>?
</li>
<li>Set emacs auto-save temporary dir instead of .emacs.d
</li>
<li>Investigate how to use <code>imenu</code> and <code>imenu rescan</code>.
</li>
<li>Add zencoding-mode(emmet-mode) to emacs, maybe I should propose an emmet
  recipe to <code>el-get</code>.
</li>
<li>Learn more about emacs mark and selection, why CapsLK turn on selection mode.
</li>
<li>Integrate elnode, skewer-mode and emacs-request to emacs.
</li>
<li>Write a proper major-mode for GAS assembly language.
</li>
<li>Oh-my-emacs keybindings to <code>C--</code> conflicts with Emacs's <code>negative-argument</code>?
</li>
<li>Try to get the total boot up time and try to reduce the whole boot up time.
</li>
<li>Documentation about indentation settings:
<ul>
<li><a href="http://emacsredux.com/blog/2013/03/29/automatic-electric-indentation/">http://emacsredux.com/blog/2013/03/29/automatic-electric-indentation/</a>
</li>
</ul>

</li>
<li>Documentation about occur edit mode, which removes the need of external
  packages such as iedit:
  <a href="http://batsov.com/articles/2011/08/19/a-peek-at-emacs24/">http://batsov.com/articles/2011/08/19/a-peek-at-emacs24/</a>
</li>
<li>What is emacs desktop-mode?
</li>
<li>There're some documentation confusions between <code>sp-beginning-of-sexp</code> and
  <code>sp-end-of-sexp</code>.
</li>
<li>What is raw prefix <code>- C-u</code>? This comes from docstring for <code>sp-kill-sexp</code>.
</li>
<li>Integrate travis?
</li>
<li>Make <code>ome-load</code> interactive and buffer recognized.
<ul>
<li>interactive load files
<ul>
<li>absolute path such as "<i>home/xiao</i>.emacs.d/ome-lisp.org"
</li>
<li>relative path such as "ome-lisp.org"
</li>
</ul>

</li>
<li>with a prefix key, load current buffer
</li>
</ul>

</li>
<li>More investigation on registers and marks, for better and fast jump in same
  buffer?
</li>
<li>Add realtime dictionary support for emacs.
</li>
</ul>


<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">
<p class="footnote"><sup><a class="footnum" name="fn-.1" href="#fnr-.1">1</a></sup> See <a href="http://git-scm.com/book/en/Git-Internals">Git Internals</a> to technical details.
</p>


</div>
</div>

</div>
</div>
</div>

</body>
</html>
